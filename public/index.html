<!DOCTYPE html>
<html lang="ar" dir="rtl" id="html-root">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-en="Dashboard - Financial Control" data-ar="لوحة التحكم - التحكم المالي">لوحة التحكم - التحكم المالي
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Main Content - Centered Layout -->
    <div class="container"
        style="min-height: calc(100vh - 120px); display: flex; align-items: center; justify-content: center; padding: var(--space-6) var(--space-4);">
        <div style="width: 100%; max-width: 1200px;">

        <!-- Financial Summary Cards -->
        <h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: var(--space-5);" data-en="Financial Summary"
            data-ar="الملخص المالي">الملخص المالي</h2>

        <div class="summary-cards-grid" style="margin-bottom: var(--space-6);">
            <!-- Total Customer Debt -->
            <div class="summary-card">
                <div class="summary-card__icon" style="background: var(--color-credit-sale);">
                    <i class="bi bi-exclamation-triangle"></i>
                </div>
                <div class="summary-card__content">
                    <span class="summary-card__label" data-en="Total Customer Debt" data-ar="إجمالي ديون العملاء">إجمالي
                        ديون العملاء</span>
                    <span class="summary-card__value" id="total-debt">$0.00</span>
                </div>
            </div>

            <!-- Total Capital (Stock Value) -->
            <div class="summary-card">
                <div class="summary-card__icon" style="background: var(--color-info);">
                    <i class="bi bi-box-seam"></i>
                </div>
                <div class="summary-card__content">
                    <span class="summary-card__label" data-en="Total Capital (Stock)" data-ar="رأس المال (المخزون)">رأس
                        المال (المخزون)</span>
                    <span class="summary-card__value" id="total-capital">$0.00</span>
                </div>
            </div>

            <!-- Total Expenses -->
            <div class="summary-card">
                <div class="summary-card__icon" style="background: var(--color-return);">
                    <i class="bi bi-wallet2"></i>
                </div>
                <div class="summary-card__content">
                    <span class="summary-card__label" data-en="Total Expenses" data-ar="إجمالي المصروفات">إجمالي
                        المصروفات</span>
                    <span class="summary-card__value" id="total-expenses">$0.00</span>
                </div>
            </div>

            <!-- Profit -->
            <div class="summary-card">
                <div class="summary-card__icon" style="background: var(--color-payment);">
                    <i class="bi bi-graph-up-arrow"></i>
                </div>
                <div class="summary-card__content">
                    <span class="summary-card__label" data-en="Total Profit" data-ar="إجمالي الربح">إجمالي الربح</span>
                    <span class="summary-card__value" id="total-profit">$0.00</span>
                </div>
            </div>

            <!-- Net Profit with Capital -->
            <div class="summary-card" style="grid-column: span 2;">
                <div class="summary-card__icon" style="background: var(--color-primary);">
                    <i class="bi bi-cash-stack"></i>
                </div>
                <div class="summary-card__content">
                    <span class="summary-card__label" data-en="Net Profit + Cost of Sold Items"
                        data-ar="صافي الربح + تكلفة البضائع المباعة">صافي الربح + تكلفة البضائع المباعة</span>
                    <span class="summary-card__value" id="net-profit" style="font-size: 2rem;">$0.00</span>
                    <span class="summary-card__label" style="font-size: 0.75rem; margin-top: 0.25rem;"
                        data-en="Profit - Expenses + Cost of Sold Items" data-ar="الربح - المصروفات + تكلفة البضائع المباعة">الربح - المصروفات
                        + تكلفة البضائع المباعة</span>
                </div>
            </div>
        </div>

        <!-- Recent Operations with Delete -->
        <div style="margin-bottom: var(--space-6);">
            <div
                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4); flex-wrap: wrap; gap: var(--space-2);">
                <h2 style="font-size: 1.5rem; font-weight: 700; margin: 0;" data-en="Recent Operations"
                    data-ar="العمليات الأخيرة">العمليات الأخيرة</h2>
                <div style="display: flex; gap: var(--space-2);">
                    <button class="btn btn-sm btn-success" onclick="exportTodayData()">
                        <i class="bi bi-file-earmark-excel"></i>
                        <span data-en="Export Today's Data" data-ar="تصدير بيانات اليوم">تصدير بيانات اليوم</span>
                    </button>
                    <button class="btn btn-sm btn-outline-primary" onclick="loadDashboardData()">
                        <i class="bi bi-arrow-clockwise"></i>
                        <span data-en="Refresh" data-ar="تحديث">تحديث</span>
                    </button>
                </div>
            </div>

            <div id="recent-operations">
                <div class="loading-state">
                    <i class="bi bi-hourglass-split"></i>
                    <p data-en="Loading operations..." data-ar="جاري تحميل العمليات...">جاري تحميل العمليات...</p>
                </div>
            </div>
        </div>

        <!-- Data Management -->
        <div style="border-top: 2px solid var(--color-border); padding-top: var(--space-6);">
            <h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: var(--space-4); color: var(--color-danger);"
                data-en="Data Management" data-ar="إدارة البيانات">إدارة البيانات</h2>

            <div class="alert alert-warning">
                <i class="bi bi-exclamation-triangle me-2"></i>
                <span data-en="Danger Zone: These actions are irreversible"
                    data-ar="منطقة خطرة: هذه الإجراءات لا يمكن التراجع عنها">منطقة خطرة: هذه الإجراءات لا يمكن التراجع
                    عنها</span>
            </div>

            <button class="btn btn-danger" onclick="showResetModal()" style="min-width: 200px;">
                <i class="bi bi-trash3"></i>
                <span data-en="Reset All Data" data-ar="إعادة تعيين جميع البيانات">إعادة تعيين جميع البيانات</span>
            </button>
        </div>
        </div>
    </div>

    <!-- Bottom Navigation Bar -->
    <nav class="bottom-nav">
        <a href="home.html" class="bottom-nav__item" data-en="Home" data-ar="الرئيسية">
            <i class="bi bi-house bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Home" data-ar="الرئيسية">الرئيسية</span>
        </a>
        <a href="history.html" class="bottom-nav__item" data-en="History" data-ar="السجل">
            <i class="bi bi-file-text bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="History" data-ar="السجل">السجل</span>
        </a>
        <a href="products.html" class="bottom-nav__item" data-en="Products" data-ar="المنتجات">
            <i class="bi bi-box bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Products" data-ar="المنتجات">المنتجات</span>
        </a>
        <a href="customers.html" class="bottom-nav__item" data-en="Customers" data-ar="العملاء">
            <i class="bi bi-people bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Customers" data-ar="العملاء">العملاء</span>
        </a>
        <a href="index.html" class="bottom-nav__item active" data-en="Dashboard" data-ar="لوحة التحكم">
            <i class="bi bi-speedometer2 bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Dashboard" data-ar="لوحة التحكم">لوحة التحكم</span>
        </a>
        <a href="expenses.html" class="bottom-nav__item" data-en="Expenses" data-ar="المصروفات">
            <i class="bi bi-wallet bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Expenses" data-ar="المصروفات">المصروفات</span>
        </a>
    </nav>

    <!-- Reset Modal -->
    <div class="modal fade" id="resetModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header"
                    style="background: rgba(239, 68, 68, 0.1); border-bottom: 1px solid var(--color-return);">
                    <h5 class="modal-title" style="color: var(--color-return);" data-en="Reset All Data"
                        data-ar="إعادة تعيين جميع البيانات">إعادة تعيين جميع البيانات</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger">
                        <strong data-en="Warning!" data-ar="تحذير!">تحذير!</strong>
                        <span
                            data-en="This will permanently delete ALL data including products, sales, customers, expenses, and history. This action CANNOT be undone."
                            data-ar="سيتم حذف جميع البيانات بشكل دائم بما في ذلك المنتجات والمبيعات والعملاء والمصروفات والسجل. لا يمكن التراجع عن هذا الإجراء.">سيتم
                            حذف جميع البيانات بشكل دائم بما في ذلك المنتجات والمبيعات والعملاء والمصروفات والسجل. لا
                            يمكن التراجع عن هذا الإجراء.</span>
                    </div>
                    <div id="reset-error" class="alert alert-danger" style="display: none;"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-en="Cancel"
                        data-ar="إلغاء">إلغاء</button>
                    <button type="button" class="btn btn-danger" onclick="confirmReset()" data-en="Reset All Data"
                        data-ar="إعادة تعيين جميع البيانات">إعادة تعيين جميع البيانات</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="js/language.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/dashboard.js"></script>
</body>

</html>