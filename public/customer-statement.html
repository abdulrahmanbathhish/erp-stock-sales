<!DOCTYPE html>
<html lang="ar" dir="rtl" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-en="Customer Statement - Stock & Sales" data-ar="كشف حساب عميل - المخزون والمبيعات">كشف حساب عميل - المخزون والمبيعات</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container" style="padding-top: var(--space-4); padding-bottom: 100px;">
        <!-- Page Header -->
        <div class="page-section-header">
            <div>
                <h2 style="margin-bottom: var(--space-2); font-weight: 700; display: flex; align-items: center; gap: var(--space-3);" data-en="Customer Statement" data-ar="كشف حساب عميل">
                    <i class="bi bi-file-text" style="color: var(--color-info);"></i>كشف حساب عميل
                </h2>
                <p class="text-muted" style="margin-bottom: 0;" data-en="View detailed customer account information" data-ar="عرض معلومات حساب العميل التفصيلية">عرض معلومات حساب العميل التفصيلية</p>
            </div>
        </div>
        
        <!-- Customer Search -->
        <div class="card mb-5">
            <div class="card-header">
                <h5 class="mb-0" data-en="Search Customer" data-ar="البحث عن عميل">
                    <i class="bi bi-search me-2" style="color: var(--color-primary-600);"></i>البحث عن عميل
                </h5>
            </div>
            <div class="card-body">
                <label for="customer-search-input" class="form-label" data-en="Search Customer:" data-ar="البحث عن عميل:">البحث عن عميل:</label>
                <div class="position-relative">
                    <input type="text" 
                           class="form-control form-control-lg" 
                           id="customer-search-input" 
                           placeholder="اكتب اسم العميل أو الهاتف..."
                           data-en="Type customer name or phone..." 
                           data-ar="اكتب اسم العميل أو الهاتف..."
                           autocomplete="off">
                    <div id="customer-search-results" class="list-group"></div>
                </div>
            </div>
        </div>

        <!-- Customer Info Card -->
        <div class="card mb-5" id="customer-info-card" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0" data-en="Customer Information" data-ar="معلومات العميل">
                    <i class="bi bi-person-circle me-2" style="color: var(--color-primary-600);"></i>معلومات العميل
                </h5>
            </div>
            <div class="card-body">
                <div class="row mb-4">
                    <div class="col-12">
                        <h4 class="mb-3"><strong data-en="Name:" data-ar="الاسم:">الاسم:</strong> <span id="customer-name" class="text-primary"></span></h4>
                    </div>
                </div>
                <div class="row mb-4">
                    <div class="col-md-3 col-6 mb-3 mb-md-0">
                        <p class="mb-2"><strong data-en="Total Sales Amount:" data-ar="إجمالي مبلغ المبيعات:">إجمالي مبلغ المبيعات:</strong></p>
                        <p class="text-info fw-bold fs-5" id="total-sales-amount">$0.00</p>
                    </div>
                    <div class="col-md-3 col-6 mb-3 mb-md-0">
                        <p class="mb-2"><strong data-en="Credit Sales:" data-ar="مبيعات بالدين:">مبيعات بالدين:</strong></p>
                        <p class="text-warning fw-bold fs-5" id="total-credit-sales">$0.00</p>
                    </div>
                    <div class="col-md-3 col-6 mb-3 mb-md-0">
                        <p class="mb-2"><strong data-en="Total Payments:" data-ar="إجمالي الدفعات:">إجمالي الدفعات:</strong></p>
                        <p class="text-success fw-bold fs-5" id="total-payments">$0.00</p>
                    </div>
                    <div class="col-md-3 col-6">
                        <p class="mb-2"><strong data-en="Remaining Debt:" data-ar="الدين المتبقي:">الدين المتبقي:</strong></p>
                        <p class="text-danger fw-bold fs-4" id="remaining-debt">$0.00</p>
                    </div>
                </div>
                <div class="row mt-3 pt-3 border-top">
                    <div class="col-12">
                        <p class="mb-2"><strong data-en="Phone:" data-ar="الهاتف:">الهاتف:</strong> <span id="customer-phone" class="text-muted"></span></p>
                        <p class="mb-2"><strong data-en="Notes:" data-ar="ملاحظات:">ملاحظات:</strong></p>
                        <p id="customer-notes" class="text-muted"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payments History -->
        <div class="card mb-5" id="payments-section" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0" data-en="Payments History" data-ar="سجل الدفعات">
                    <i class="bi bi-wallet2 me-2" style="color: var(--color-success);"></i>سجل الدفعات
                </h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-striped mb-0">
                        <thead>
                            <tr>
                                <th data-en="Date" data-ar="التاريخ">التاريخ</th>
                                <th data-en="Amount" data-ar="المبلغ">المبلغ</th>
                                <th data-en="Notes" data-ar="ملاحظات">ملاحظات</th>
                            </tr>
                        </thead>
                        <tbody id="payments-table">
                            <tr>
                                <td colspan="3" class="text-center" data-en="Loading..." data-ar="جاري التحميل...">جاري التحميل...</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="table-success">
                                <th colspan="1" data-en="Total Payments:" data-ar="إجمالي الدفعات:">إجمالي الدفعات:</th>
                                <th id="payments-total" class="fw-bold">$0.00</th>
                                <th></th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>

        <!-- Sales History -->
        <div class="card mb-5" id="sales-section" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0" data-en="Sales History" data-ar="سجل المبيعات">
                    <i class="bi bi-cart-check me-2"></i>سجل المبيعات
                </h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-striped mb-0">
                        <thead>
                            <tr>
                                <th data-en="Date" data-ar="التاريخ">التاريخ</th>
                                <th data-en="Product" data-ar="المنتج">المنتج</th>
                                <th data-en="Quantity" data-ar="الكمية">الكمية</th>
                                <th data-en="Sale Price" data-ar="سعر البيع">سعر البيع</th>
                                <th data-en="Total" data-ar="الإجمالي">الإجمالي</th>
                                <th data-en="Credit" data-ar="دين">دين</th>
                            </tr>
                        </thead>
                        <tbody id="sales-table">
                            <tr>
                                <td colspan="6" class="text-center" data-en="Loading..." data-ar="جاري التحميل...">جاري التحميل...</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="table-info">
                                <th colspan="3" data-en="Totals:" data-ar="الإجماليات:">الإجماليات:</th>
                                <th id="total-revenue" class="fw-bold">$0.00</th>
                                <th id="grand-total" class="fw-bold">$0.00</th>
                                <th></th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>

        <!-- No Customer Selected Message -->
        <div class="card" id="no-customer-message">
            <div class="card-body text-center text-muted py-5">
                <i class="bi bi-search fs-1 d-block mb-3 opacity-50"></i>
                <p class="mb-0" data-en="Please search and select a customer to view their statement" data-ar="يرجى البحث عن عميل واختياره لعرض كشف حسابه">يرجى البحث عن عميل واختياره لعرض كشف حسابه</p>
            </div>
        </div>
    </div>

    <!-- Success/Error Messages -->
    <div id="alert-container"></div>

    <!-- Bottom Navigation Bar -->
    <nav class="bottom-nav">
        <a href="home.html" class="bottom-nav__item" data-en="Home" data-ar="الرئيسية">
            <i class="bi bi-house bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Home" data-ar="الرئيسية">الرئيسية</span>
        </a>
        <a href="history.html" class="bottom-nav__item" data-en="History" data-ar="السجل">
            <i class="bi bi-file-text bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="History" data-ar="السجل">السجل</span>
        </a>
        <a href="products.html" class="bottom-nav__item" data-en="Products" data-ar="المنتجات">
            <i class="bi bi-box bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Products" data-ar="المنتجات">المنتجات</span>
        </a>
        <a href="customers.html" class="bottom-nav__item active" data-en="Customers" data-ar="العملاء">
            <i class="bi bi-people bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Customers" data-ar="العملاء">العملاء</span>
        </a>
        <a href="index.html" class="bottom-nav__item" data-en="Dashboard" data-ar="لوحة التحكم">
            <i class="bi bi-speedometer2 bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Dashboard" data-ar="لوحة التحكم">لوحة التحكم</span>
        </a>
        <a href="expenses.html" class="bottom-nav__item" data-en="Expenses" data-ar="المصروفات">
            <i class="bi bi-wallet bottom-nav__icon"></i>
            <span class="bottom-nav__label" data-en="Expenses" data-ar="المصروفات">المصروفات</span>
        </a>
    </nav>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/language.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/customer-statement.js"></script>
</body>
</html>

